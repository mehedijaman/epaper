import{q as P,x as h,p as E,u as O,b3 as R,z as w,B as U,C as $,aK as k,d as g,t as D,v as I,W as x,y as F,aD as j,aF as q,U as B,b4 as L,o as V,j as W,w as z,r as H,f as K}from"./app-pbFrJQ1g.js";import{r as Y,S as T,P as G}from"./Primitive-C8vVXU7w.js";function ae(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function ie(t){return t==null}const[J]=P("ConfigProvider");function oe(t){const e=J({dir:h("ltr")});return E(()=>t?.value||e.dir?.value||"ltr")}function re(t,e="reka"){return`${e}-${O?.()}`}function Q(t,e){const r=h(t);function s(u){return e[r.value][u]??r.value}return{state:r,dispatch:u=>{r.value=s(u)}}}function X(t,e){const r=h({}),s=h("none"),i=h(t),u=t.value?"mounted":"unmounted";let c;const f=e.value?.ownerDocument.defaultView??R,{state:v,dispatch:o}=Q(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),n=a=>{if(k){const m=new CustomEvent(a,{bubbles:!1,cancelable:!1});e.value?.dispatchEvent(m)}};w(t,async(a,m)=>{const C=m!==a;if(await U(),C){const S=s.value,N=M(e.value);a?(o("MOUNT"),n("enter"),N==="none"&&n("after-enter")):N==="none"||N==="undefined"||r.value?.display==="none"?(o("UNMOUNT"),n("leave"),n("after-leave")):m&&S!==N?(o("ANIMATION_OUT"),n("leave")):(o("UNMOUNT"),n("after-leave"))}},{immediate:!0});const l=a=>{const m=M(e.value),C=m.includes(CSS.escape(a.animationName)),S=v.value==="mounted"?"enter":"leave";if(a.target===e.value&&C&&(n(`after-${S}`),o("ANIMATION_END"),!i.value)){const N=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",c=f?.setTimeout(()=>{e.value?.style.animationFillMode==="forwards"&&(e.value.style.animationFillMode=N)})}a.target===e.value&&m==="none"&&o("ANIMATION_END")},p=a=>{a.target===e.value&&(s.value=M(e.value))},y=w(e,(a,m)=>{a?(r.value=getComputedStyle(a),a.addEventListener("animationstart",p),a.addEventListener("animationcancel",l),a.addEventListener("animationend",l)):(o("ANIMATION_END"),c!==void 0&&f?.clearTimeout(c),m?.removeEventListener("animationstart",p),m?.removeEventListener("animationcancel",l),m?.removeEventListener("animationend",l))},{immediate:!0}),d=w(v,()=>{const a=M(e.value);s.value=v.value==="mounted"?a:"none"});return $(()=>{y(),d()}),{isPresent:E(()=>["mounted","unmountSuspended"].includes(v.value))}}function M(t){return t&&getComputedStyle(t).animationName||"none"}var le=g({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:r}){const{present:s,forceMount:i}=D(t),u=h(),{isPresent:c}=X(s,u);r({present:c});let f=e.default({present:c.value});f=Y(f||[]);const v=F();if(f&&f?.length>1){const o=v?.parent?.type.name?`<${v.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${o}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(n=>`  - ${n}`).join(`
`)].join(`
`))}return()=>i.value||s.value||c.value?I(e.default({present:c.value})[0],{ref:o=>{const n=x(o);return typeof n?.hasAttribute>"u"||(n?.hasAttribute("data-reka-popper-content-wrapper")?u.value=n.firstElementChild:u.value=n),n}}):null}});function _(){const t=h(),e=E(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:x(t));return{primitiveElement:t,currentElement:e}}const b="data-reka-collection-item";function se(t={}){const{key:e="",isProvider:r=!1}=t,s=`${e}CollectionProvider`;let i;if(r){const n=h(new Map);i={collectionRef:h(),itemMap:n},j(s,i)}else i=q(s);const u=(n=!1)=>{const l=i.collectionRef.value;if(!l)return[];const p=Array.from(l.querySelectorAll(`[${b}]`)),d=Array.from(i.itemMap.value.values()).sort((A,a)=>p.indexOf(A.ref)-p.indexOf(a.ref));return n?d:d.filter(A=>A.ref.dataset.disabled!=="")},c=g({name:"CollectionSlot",inheritAttrs:!1,setup(n,{slots:l,attrs:p}){const{primitiveElement:y,currentElement:d}=_();return w(d,()=>{i.collectionRef.value=d.value}),()=>I(T,{ref:y,...p},l)}}),f=g({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(n,{slots:l,attrs:p}){const{primitiveElement:y,currentElement:d}=_();return B(A=>{if(d.value){const a=L(d.value);i.itemMap.value.set(a,{ref:d.value,value:n.value}),A(()=>i.itemMap.value.delete(a))}}),()=>I(T,{...p,[b]:"",ref:y},l)}}),v=E(()=>Array.from(i.itemMap.value.values())),o=E(()=>i.itemMap.value.size);return{getItems:u,reactiveItems:v,itemMapSize:o,CollectionSlot:c,CollectionItem:f}}var Z=g({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,r)=>(V(),W(K(G),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:z(()=>[H(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),ue=Z;export{le as P,ue as V,oe as a,ie as b,re as c,_ as d,ae as g,J as i,se as u};
