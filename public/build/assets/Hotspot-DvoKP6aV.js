import{d as k,Q as U,o as l,c as a,e as c,f as d,h as C,a as t,w as p,J as f,K as u,F as w,L as T,p as x,x as N}from"./app-BIDwooZD.js";import{_ as g}from"./index-C8P2q1AW.js";import{N as h}from"./newspaper-BTZbB5ry.js";import"./Primitive-BLKkOots.js";import"./createLucideIcon-ccUrNrU9.js";const P={class:"flex min-h-screen flex-col bg-slate-100 text-slate-900"},j={class:"border-b border-slate-200 bg-white shadow-sm"},B={class:"mx-auto flex max-w-7xl items-center justify-center px-4 py-3"},H=["src"],L={key:1,class:"inline-flex items-center gap-2"},z={class:"mx-auto w-full max-w-4xl flex-1 px-4 py-6 sm:px-6 lg:py-8"},S={class:"flex flex-wrap items-center justify-between gap-3 border-slate-200 bg-white p-4 shadow-sm"},V=["src","alt"],E={class:"border-t border-slate-200 bg-white py-4"},F={class:"mx-auto flex max-w-7xl flex-col gap-4 px-4 text-xs text-slate-600 sm:flex-row sm:items-end sm:justify-between sm:text-sm"},$={class:"space-y-2 text-center sm:text-left"},A=["src"],D={key:1,class:"inline-flex items-center gap-2"},I={class:"text-slate-500"},J={class:"max-w-lg space-y-1 text-center text-slate-500 sm:text-right"},O=k({__name:"Hotspot",props:{date:{},pageNo:{},viewerUrl:{},targetUrl:{},previewUrl:{},targetPreviewUrl:{},logoUrl:{},settings:{},hotspot:{},targetHotspot:{}},setup(o){const i=o,r=N("idle");let n=null;const y=x(()=>r.value==="copied"?"Copied":r.value==="error"?"Copy failed":"Copy Link"),v=x(()=>{const s={key:"current",src:i.previewUrl,alt:"Hotspot preview"};if(i.targetHotspot===null||i.targetPreviewUrl===null)return[s];const e={key:"target",src:i.targetPreviewUrl,alt:"Target hotspot preview"};return i.hotspot.relation_kind==="previous"?[e,s]:[s,e]});async function _(){if(typeof window>"u")return;const s=window.location.href;try{if(navigator.clipboard!==void 0&&window.isSecureContext)await navigator.clipboard.writeText(s);else{const e=document.createElement("textarea");e.value=s,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}r.value="copied"}catch{r.value="error"}n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{r.value="idle",n=null},1800)}U(()=>{n!==null&&window.clearTimeout(n)});function b(){typeof window>"u"||(window.close(),window.setTimeout(()=>{window.closed||(window.location.href=i.viewerUrl)},120))}return(s,e)=>(l(),a(w,null,[c(d(C),{title:`Hotspot ${o.hotspot.id}`},null,8,["title"]),t("div",P,[t("header",j,[t("div",B,[o.logoUrl?(l(),a("img",{key:0,src:o.logoUrl,alt:"Newspaper logo",class:"h-10 w-auto object-contain sm:h-12"},null,8,H)):(l(),a("div",L,[c(d(h),{class:"size-5 text-slate-700"}),e[0]||(e[0]=t("span",{class:"text-lg font-bold tracking-tight text-slate-900"},"ePaper",-1))]))])]),t("main",z,[t("div",null,[t("div",S,[c(d(g),{variant:"outline",size:"sm",type:"button",onClick:b},{default:p(()=>[...e[1]||(e[1]=[f(" Close ",-1)])]),_:1}),c(d(g),{variant:"default",size:"sm",type:"button",onClick:_},{default:p(()=>[f(u(y.value),1)]),_:1})]),(l(!0),a(w,null,T(v.value,m=>(l(),a("div",{key:m.key},[t("img",{src:m.src,alt:m.alt,class:"mx-auto block h-auto w-full"},null,8,V)]))),128))])]),t("footer",E,[t("div",F,[t("div",$,[o.logoUrl?(l(),a("img",{key:0,src:o.logoUrl,alt:"Newspaper logo",class:"mx-auto h-10 w-auto object-contain sm:mx-0 sm:h-12"},null,8,A)):(l(),a("div",D,[c(d(h),{class:"size-4 text-slate-500"}),e[2]||(e[2]=t("span",{class:"text-sm font-semibold text-slate-700"},"ePaper",-1))])),t("p",I,u(o.settings.footer_copyright),1)]),t("div",J,[t("p",null,u(o.settings.footer_editor_info),1),t("p",null,u(o.settings.footer_contact_info),1)])])])])],64))}});export{O as default};
