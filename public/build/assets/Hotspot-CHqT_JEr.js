import{d as y,Q as v,o as l,c as a,e as n,f as r,h as b,a as e,w as u,J as m,K as c,k as _,F as k,p as U,x as C}from"./app-pbFrJQ1g.js";import{_ as f}from"./index-C7XH55Ot.js";import{N as x}from"./newspaper-DOM4mVgu.js";import"./Primitive-C8vVXU7w.js";import"./createLucideIcon-Dlt7ezm_.js";const N={class:"flex min-h-screen flex-col bg-slate-100 text-slate-900"},T={class:"border-b border-slate-200 bg-white shadow-sm"},j={class:"mx-auto flex max-w-7xl items-center justify-center px-4 py-3"},B=["src"],H={key:1,class:"inline-flex items-center gap-2"},P={class:"mx-auto w-full max-w-4xl flex-1 px-4 py-6 sm:px-6 lg:py-8"},z={class:"space-y-5"},V={class:"flex flex-wrap items-center justify-between gap-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm"},L=["src"],S={key:0,class:"space-y-2"},E=["src"],F={class:"border-t border-slate-200 bg-white py-4"},$={class:"mx-auto flex max-w-7xl flex-col gap-4 px-4 text-xs text-slate-600 sm:flex-row sm:items-end sm:justify-between sm:text-sm"},A={class:"space-y-2 text-center sm:text-left"},D=["src"],I={key:1,class:"inline-flex items-center gap-2"},J={class:"text-slate-500"},K={class:"max-w-lg space-y-1 text-center text-slate-500 sm:text-right"},R=y({__name:"Hotspot",props:{date:{},pageNo:{},viewerUrl:{},targetUrl:{},previewUrl:{},targetPreviewUrl:{},logoUrl:{},settings:{},hotspot:{},targetHotspot:{}},setup(o){const p=o,i=C("idle");let s=null;const w=U(()=>i.value==="copied"?"Copied":i.value==="error"?"Copy failed":"Copy Link");async function g(){if(typeof window>"u")return;const d=window.location.href;try{if(navigator.clipboard!==void 0&&window.isSecureContext)await navigator.clipboard.writeText(d);else{const t=document.createElement("textarea");t.value=d,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}i.value="copied"}catch{i.value="error"}s!==null&&window.clearTimeout(s),s=window.setTimeout(()=>{i.value="idle",s=null},1800)}v(()=>{s!==null&&window.clearTimeout(s)});function h(){typeof window>"u"||(window.close(),window.setTimeout(()=>{window.closed||(window.location.href=p.viewerUrl)},120))}return(d,t)=>(l(),a(k,null,[n(r(b),{title:`Hotspot ${o.hotspot.id}`},null,8,["title"]),e("div",N,[e("header",T,[e("div",j,[o.logoUrl?(l(),a("img",{key:0,src:o.logoUrl,alt:"Newspaper logo",class:"h-10 w-auto object-contain sm:h-12"},null,8,B)):(l(),a("div",H,[n(r(x),{class:"size-5 text-slate-700"}),t[0]||(t[0]=e("span",{class:"text-lg font-bold tracking-tight text-slate-900"},"ePaper",-1))]))])]),e("main",P,[e("div",z,[e("div",V,[n(r(f),{variant:"outline",size:"sm",type:"button",onClick:h},{default:u(()=>[...t[1]||(t[1]=[m(" Close ",-1)])]),_:1}),n(r(f),{variant:"default",size:"sm",type:"button",onClick:g},{default:u(()=>[m(c(w.value),1)]),_:1})]),e("img",{src:o.previewUrl,alt:"Hotspot preview",class:"mx-auto block h-auto w-full"},null,8,L),o.targetHotspot!==null&&o.targetPreviewUrl!==null?(l(),a("div",S,[e("img",{src:o.targetPreviewUrl,alt:"Target hotspot preview",class:"mx-auto block h-auto w-full"},null,8,E)])):_("",!0)])]),e("footer",F,[e("div",$,[e("div",A,[o.logoUrl?(l(),a("img",{key:0,src:o.logoUrl,alt:"Newspaper logo",class:"mx-auto h-10 w-auto object-contain sm:mx-0 sm:h-12"},null,8,D)):(l(),a("div",I,[n(r(x),{class:"size-4 text-slate-500"}),t[2]||(t[2]=e("span",{class:"text-sm font-semibold text-slate-700"},"ePaper",-1))])),e("p",J,c(o.settings.footer_copyright),1)]),e("div",K,[e("p",null,c(o.settings.footer_editor_info),1),e("p",null,c(o.settings.footer_contact_info),1)])])])])],64))}});export{R as default};
